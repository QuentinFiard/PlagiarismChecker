

Solving  Reflexive  Domain  Equations in a 

Category  of  Complete  Metric  Spaces 

Pierre America 
Philips  Research  Laboratories 
P.O. Box  80.000, 5600 JA  Eindhoven, The Netherlands 

Jan Rutten 
Centre for Mathematics and Computer  Science 
P.O. Box  4079,  1009 AB  Amsterdam,  The  Netherlands 

This paper presents a  technique by which solutions to reflexive  domain equations can  be found in a  cer- 

tain category of complete metric spaces.  The  objects in  this category are  the (non-empty) metric spaces 
and  the arrows consist of two maps:  an  isometric embedding and  a  non-distance-increasing left inverse 
to it.  The  solution of the equation is constructed as a  fixed point of a  functor over this category associ- 
ated with the equation.  The fixed point obtained is the direct limit (colimit) of a  convergent tower. This 
construction  works  if  the  functor  is  contractin~ which roughly  amounts  to  the  condition  that  it  maps 

every  embedding to  an  even  denser  one.  We  also  present  two  additional  conditions, each  of which is 
sufficient to  ensure  that  the functor has  a  unique fixed point  (up  to  isomorphism).  Finally,  for  a  large 
class of functors, including function space constructions, we show that  these conditions are  satisfied, so 

that  they  are  guaranteed  to  have  a  unique  fixed  point.  The  techniques we  use  are  so  reminiscent of 

Banach's fixed-point theorem that we feel justified to speak of a category-theoretic version of it. 

1980 Mathematical Subject classification: 68B10, 68C01. 
1986 Computing Reviews Categories: D.1.3,  D.3.1, F.3.2. 
Key  words  and phrases." domain  equations,  complete metric  spaces,  category  theory,  converging towers, 

contracting functors, Banach's fixed-point theorem. 

Note:  This  work  was  carried  out  in  the  context  of  ESPRIT  project  415:  Parallel  Architectures  and 

Languages for Advanced Information Processing --   a VLSI-directed approach. 

1.  INTRODUCTION 
The framework of complete metric  spaces has  proved to  be  very useful for giving a  denotational 

semantics to programming languages,  especially concurrent ones.  For example, in  the approach of 
De  Bakker  and  Zucker  [BZ]  a process  is  modelled  as  the  dement  of  a  suitable  metric  space, 
where  the  distance between  two processes is  defined in  such  a  way that  the  smaller this  distance 
is, the longer it takes before the two processes show a different behaviour. 

255 
In  order  to  construct  a  suitable  metric  space  in  which  processes  are  to  reside,  we  must  solve  a 
reflexive domain  equation.  For  example,  a  simple language,  where  a  process  is  a  fixed  sequence  of 
uninterpreted  atomic actions,  gives rise  to  the  equation 

e  ~ {e0}  u  (.4 x~) . 
(Here  U  denotes  the  disjoint  union  operation.)  In  [BZ]  an  elementary  technique  was  developed 
to  solve  such  equations.  Roughly,  this  consisted  of  starting  with  a  small  metric  space,  enriching 
it iteratively,  and  taking the  metric  completion  of the  union  of all the  obtained  spaces. 

In  many  cases  this  technique  is  sufficient  to  solve  the  equation  at  hand,  but  there  are  equations 
for which  it  does  not  work:  equations  where  the  domain  variable P  occurs  in  the  left-hand  side  of 
a  function  space construction,  e.g., 

e  ~ (e0)  u  (e ~ e ).  
This  kind  of  equation  arises  when  the  semantic  description  is  based  on  continuations (see  for 

example  [ABKR]).  In  this  paper  we present  a  technique  by  which  these  cases  can  also  be  solved, 
at  least when  we restrict  the  function  space  at hand  to  the  non-distance-increasing functions. 

The  structure  of  this  report  is  as  follows:  In  section  2  we  list  some  mathematical  preliminaries. 
In  section  3  we  introduce  our  category  C of  complete  metric  spaces,  we  define  the  concepts  of 
converging  tower  and  contracting  ftmctor.  We  show  that  a  converging  tower  has  a  direct  limit 

and  that  a  contracting  functor  preserves  such  a  limit.  Then  we  see  how  a  contracting  functor 
gives rise to  a  converging  tower  and  that  the limit  of this  tower  is  a  fixed point  of the  functor. 

Section  4 presents  two  cases in  which  we can  show  that  the  fixed point  we construct  is  the  unique 
fixed  point  (up  to  isomorphism)  of  the  contracting  functor  at  hand.  One  case  arises  when  we 
work  in  a  base-point  category:  a  category  where  every  space  has  a  specially  designated  base- 
point  and  where  every" map  preserves this  base-point.  The  other  case  is  where  the  functor  is  not 

only contracting,  but  also horn-contracting:  it is a  contraction  on  every" function  space. 

Finally,  in  section  5,  we  present  a  large  class  of  functors  (including  most  of  the  ones  we  are 
interested  in),  for which  we can  show  that  each  of them  has  a  unique  fixed point. 

Acknowledgements 

We would  like to  thartk Jaco  de  Bakker,  Frank  de  Boer,  Joost  Kok,  Frank  van  der  Linden,  John- 
Jules  Meyer  and  Erik  de  Vink  for  useful  discussions  on  the  contents  of  this  paper.  We  are  also 

grateful  to  Marino  Delusso  and  Eline  Meijs,  who have typed  this  report. 

256 
2.  MATHEMATICAL PRELIMINARIES 
In  this  section  we  collect  some  definitions  and  properties  concerning  metric  spaces,  in  order  to 

refresh  the reader's memory or  to introduce  him to  this  subject. 

2.1. Metric spaces 

DEHNITION  2.1 (Metric  space) 
A  metric  space is  a  pair  (M,d)  with  M  a non-empty  set  and  d  a mapping  d:M*M~[O,1]  (a 

metric  or  distance), which  satisfies the following properties: 
(a)  Vx,y ~M [d(x,y)=O c~  x =y] 

(b)  Vx,y ~M [d(x,y)=d(y,x)] 

(c)  Vx,fl,z ~M [d(x,y)<~d(x,z) + d(z,y)]. 
We call (M,d) an ultra-metric  space if the following stronger version of property (c) is satisfied: 

(c')  Vx,y,z ~M [d(x,y)<.max{d(x,z),d(z,y)}]. 

Note  that  we  consider  only  metric  spaces  with  bounded  diameter:  the  distance  between  two 

points  never exceeds  1. 

Example 
Let A  be  an  arbitrary  set. The  discrete metric  dA  on A  is defined  as  follows.  Let x,y ~A,  then 

01  if x  = y  dA(x,y)  =  if xv~y. 

DEFINITION  2.2 
Let (M,d) be a  metric  space,  let  (xi)i  be  a  sequence  in 34. 
(a)  We  say that  (xi)i  is a  Cauchy  sequence whenever  we have: 

V~>0  3N ~N  Vn, m > N   [d(xn,xm)<c]. 
(b)  Let x ~M.  We  say that  (xi)i  converges  to  x and call  x the  limit  of (xi)i  whenever we have: 

r e > 0   3N ~N  Vn ?>N [d(x,Xn)<~ ]. 

Such  a  sequence we call convergent.  Notation:  limi_.~xi =x. 
(c)  The  metric  space  (M,d)  is  called  complete  whenever  each  Cauchy  sequence  converges  to  an 

element of M. 

DEFINITION 2.3 

Let  (M 1, dl ),(M2,d2)  be metric  spaces. 
(a)  We  say  that  (Ml,dl)  and  (M2,d2)  are  isometric  if  there  exists  a  bijection f : M l o M 2   such 

that: 
Vx,y EM1  [dz(f(x),f(y))=dl(x,y)].  We  then write  M1--~M2.  When f i s   not  a  bijection (but 
only  an injection),  we call it  an  isometric  embedding. 

257 
(b)  Let f:MI--->M2  be  a  function.  We  call f  continuous whenever  for  each  sequence  (xi)i  with 

limit x  in M1  we have that  limi~oof(xi)=f(x). 
(c)  Let A 1>0. With M1--->aM2 we  denote  the  set  of functions f f r o m   M1  to  M2  that  satisfy the 

following property: 
Vx,y ~M1  [d2(f (x),f (y))<~A .dl(x,y)]. 

Functions f  in  M]--->IM2  we  call  non-distance-increasing  (NDI),  functions  f  in  M  j ~ M 2  
with 0~<c< 1 we call contracting. 

PROPOSITION 2.4 
(a)  Let  (Ml,dl),(M2,d2)  be metric  spaces. For every  A >10 and f ~ M l ~ A M 2   we have:  f is con- 

tinuous. 
(b)  (Banach's fixed-point  theorem) 

Let (M,d) be  a  complete  metric  space and f  :M-->M  a  contracting  function.  Then  there  exists an 
x ~M  such  that  the  following  holds: 
(1)  f  (x)=x  (x is  a fixedpoint  of J), 
(2)  V y ~ M  [ f ( y ) = y   ~ y   = x ]   (x is unique), 
(3)  Yxo ~ m   [lim, ooof(n)(xo) =x ~  where f(n + D(x0) =f(f(n)(xo) ) and f(o)(x0) =x0. 

DEFINITION 2.5  (Closed subsets) 
A  subset  X  of a  complete metric  space  (M,d)  is  called closed whenever  each  Cauchy  sequence  in 

X  converges to  an  element of X. 

DEFINITION 2,6 

Let (M,d),(MI ,dl ) . . . . .   (Mn,dn) be metric spaces. 
(a)  With MI--~M 2  we  denote  the  set  of  all continuous  functions  from  MI  to  M 2.  We  define a 

metric d r  on  M1--*M2  as follows.  For every fl,f2EM1-->M2 

dF(f l ,f2)=SUpxEM,  (dE(fl (x),f 2(x))}. 
For  A ~ O   the  set  Mt--->'4M2 is  a  subset  of  MI->M2,  and  a  metric  on  MI-oAM2  can  be 
obtained by taking the restriction of the corresponding dF. 
(b)  With MI  U  .  *  * UMn  we  denote  the  disjoint  union of M1 . . . . .   Mn,  which  can  be  defined  as 

{1 }XMIU  ' ' .   U(n}*Mn.  We  define  a  metric  du  on  M I U   - . .   UMn  as  follows.  For 
every x,y EM1  U  *  *  *  U  M  n 

{~j(x,y)  ifx,yE{j}  XMj,  l<~j<~n 
dw(x,y) =  otherwise. 

(c)  We define a  metric dp  on M1 X  *  *  *  X Mn  by the following clause. 

For every (Xl . . . . .   xn),  (Yl . . . . .   yn)~M1  X  .  *  * )<3/1, 

dl,((x l . . . . .   x,),(y 1 . . . . .   Yn))  = maxi (di(xi,Yi)}. 

(d) 

258 
Let  ~ct(M)=def(xlXC_MiX is  closed  and  non-empty}.  We  define  a  metric  dH  on  o2d(M), 
called  the Hausdorffdistance,  as follows.  For  every X, Y~Pct(M) 

dH(X, Y)=max{supxcx{d(x, Y)}, supy ~ r{d~,X)} }, 
where d(x,Z)=&finfzsz{d(x,z)}  for every Z  C M,  x ~M. 
An  equivalent  definition  would  be  to  set  Vr(X)={y~MI3x~X[d(xy)<r]}  for 
r  >0,  XCM,  and  then  to  define 

dH(X,Y)  =  inf{r > 0 1 X C V r ( Y ) A   YCVr(X)}. 

PROPOSITION 2.7 
Let  (M,d),  (Ml,dl) . . . . .   (Mn,dn),  dr,  du, dp  and  dn  be  as  in  definition  2.6  and  suppose  that 

(M, d),  (M 1,d l) . . . . .   (Mn,dn) are complete.  We have that 
(a)  (MI~M2,dF),  (MI~AM2,dF), 
(b)  (M 1  U "'"  UMn,du), 

(c)  ( M I *   "' "  *Mn,de), 
(d)  (s2d(m),dn) 

are complete  metric spaces. If (M,d)  and  (Mi,di)  are  all  ultra-metric  spaces these composed spaces 
are again  ultra-metric.  (Strictly  spoken, for  the completeness of M1---~M2 and M1---~A M2  we do not 
need  the completeness of M I.  The  same holds for the  ultra-metric property.) 

If  in  the  sequel  we  write  M I ~ M 2 ,   MI~aM 2,  M1-U  *  *  * ~Mn,  MI  *  *  "  " *Mn  or  S2cl(M), we 
mean  the metric  space with  the  metric defined  above. 
The  proofs  of  proposition  2.7  (a),  (b)  and  (c)  are  straightforward.  Part  (d)  is  more  involved.  It 
can  be proved with  the  help of the  following characterization  of the  completeness  of (qPc1(M),du). 

PROPOSITION 2.8 
Let (*d(M),dH)  be  as  in  definition  2.6. Let (Xi)i  be a  Cauchy  sequence  in ~d(M).  We have: 

limi~ooXi  = {rtmi--,~xilxiEXi, (xi)i  a  Cauchy  sequence in  M}. 

Proofs  of proposition  2.7(d)  and  2.8  can  be found  in  (for instance)  [Du]  and  [En].  Proposition  2.8 
is due  to Hahn  [Ha].  The proofs  are also repeated  in  [BZ]. 

THEOREM 2.9  (Metric  completion) 
Let M  be an arbitrary  metric  space. Then there exists  a  metric  space  M  (called the completion of M) 

together  with an isometric embedding i :M-oM such  that: 
(1)  M  is complete 
(2)  For  every  complete  metric space M'  and  isometric  embedding  j :M~ M '  there exists  a  unique 

isometric  embedding ]:M-~M'  such that ~oi ---j. 

259 
PROOF 
The space M  is  constructed by taking  the  set of all  Cauchy sequences  in M  and  dividing it  out by 

the equivalence relation  =  defined  by 

(Xn)n~_(~n)n  =def  hmn~d(xn,Yn)=O" 
The metric de on M  is defined by 

dc([(xn)l=,[(y.)]=_) =def limn__)czd(xn,y.) 
and  the  embedding  i  will map  every x EM  to  the  equivalence  class  of  the  sequence  of which  all 
elements  are equal  to x: 

i(x)  =  [(x).]-. 
It is  easy to  show that  M  and  i satisfy the above properties. 

3.  A CATEGORY  OF COMPLETE MET~C SPACES 
In  this  section  we  want  to  generalize  the  technique  of  solving  reflexive  domain  equations  of  De 
Bakker  and  Zucker ([BZ]). We  shall  first  give an  example  of their  approach  and  then  explain  how 
it can be  extended. 

Consider  a  domain  equation 

e ~ ( e o } U ( A * e ) ,  
with A  an  arbitrary  set.  In [BZ]  a complete  metric space  that  satisfies  this  equation  is constructed 
as follows. An increasing  sequence A (0) C_A 0) C  .  *  * of metric spaces is defined by 

(0) A(o)  =  {rio},  do  trivial, 
( n + l )   A("+0  =  {To)  U  A  X  A (0)  , 

dn+l  (19o, q)  =  1 if q~A (n+l)  ,  q  c=Po, 

1  1  if al  #  a2 
d , + i ( < a l , p l > ,   <a2,  p 2 > )   =  " 4 ( P l , P 2 )   i f al  =  a2. 

Note that for every i~>0,  A 0)  is a  subspace ofA (i+l).  Their  union is defined  as 

A*  =  U  A(n), 

hEN 

and  a  domain A oo is defined  as the metric  completion of this  union: 

260 
A  m  = A*  . 
It  is  then  proved  that  A  ~ satisfies  the  equation.  (We  observe  that  A  * is  isometric  to  the  set  of 

all  finite  sequences  of  elements  of  A,  while  A  ~ is  isometric  to  the  set  of  all  finite  and  infinite 
sequences,  in both  cases with  a  suitable  metric.) 
In  order  to  extend  this  approach,  we  shall  formulate  a  number  of  category-theoretic  generaliza- 
tions  of some of the concepts  used in  the  construction  described  above. 

First  we  shall  define  a  converging  tower to be  the  counterpart  of  an  increasing  sequence  of metric 
spaces;  then  the  construction  of  a  direct  limit of  such  a  tower  will  be  the  generalization  of  the 
metric  completion  of the  union  of  such  a  sequence.  Finally  we  shall  give a  generalized  version  of 
Banach's  fixed-point  theorem. 

For  this  purpose  we define  a category C of complete metric  spaces. 

DEFINITION  3.1 (Category of complete metric  spaces) 
Let  C denote  the  category  that  has  complete  metric  spaces  for  its  objects.  The  arrows,  in  C are 
defined  as  follows.  Let  M1,M 2  be  complete  metric  spaces.  Then  M I - ~' M2   denotes  a  pair  of 

i maps MI~.M2,  satisfying the  following properties: 

) 
(a)  i is an  isometric embedding, 

(b)  j  is non-distance-increasing  (NDI), 
(c)  joi=idM,. 

(We  sometimes write  < i ,j  >  for L.)  Composition  of the  arrows  is defined  in  the  obvious way. 

REMARK 
For  the  basic definitions  from category  theory  we refer  the  reader  to  [ML]. 

We  can  consider  M  1 as  an  approximation  of M2:  in  a  sense  the  set  M  2 contains  more  informa- 

tion  than  Ml,  because M1  can  be  isometrically  embedded  into  M  2. Elements  in M2  are  approxi- 
mated  by  elements  in  M1.  For  an  element  m2~M2  its  (best)  approximation  in  Ml  is  given by 
j(m2).  (The  reason  why j  should  be N DI   is,  at  this  point,  difficult  to motivate.) 

When  we informally rephrase  clause  (c),  it  states  that  the  approximation  in  MI  of the  embedding 

of  an  element  m  1 eM1  into  M2  is  again  ml.  Or,  in  other  words,  that  M  2 is  a  consistent  exten- 

sion  of M  I  . 

DEFINITION  3.2 

For  every arrow M I-+'M 2 in  C with  L= < i,j   >  we define 

8(0 =  dM2-+M2(ioj, idM2) ( =   SUpm~M2 {dM~(ioj(m2),m2))). 

261 
This  number  plays  an important  role in  our  theory.  It  can  be  regarded  as a  measure  of the  qual- 
ity with which M2  is  approximated  by M l:  the  smaller  8(0,  the denser  M1  is  embedded  into M2. 
We  next  try  to  formalize  a  generalization  of increasing  sequences  of metric  spaces  by  the  follow- 
hag definition. 

DErINmON 3.3  (Converging tower) 
(a)  We call  a  sequence  (Dn,tn)n  of complete  metric  spaces  and  arrows  a  tower whenever  we have 

that 
Vn ~N  " [Dn-'~  Dn+l ~E]. 

Do "-~o  D 1 "--~ q  D2---~ "  "  * "-'~Dn"~L" Dn +  1  ~ "  "  " 
(b)  The  sequence  (Dn,tn)n  is  called  a  converging  tower  when  furthermore  the  following condition 

is satisfied: 
Vc>0  3N EN  Vm > n  ~ N   [8(tnm)<e],  where tnm=  tin-1 . . . . .   tn:  Dn ~D m. 

tn  .  ..._.__Din  _t~-.1Dm D  n --2-.Dn+r---- 

EXAMa'LE 3.4 
A  special case of a  converging tower is a  sequence  (Dn,tn)  n  that  satisfies  the following conditions: 

(a)  V n ~ N  [Dn---~t~Dn+l ~C], 
(b)  3c [0~<c<l  A  Vn EN  [~(t n  +1)  ~<  C'{~(tn)]]" 

E  n (Note  that 8(tnm)~8(tn) +  "  "  " +8(tin -  1)~d'8(t0)-{-  *  *  * -k-t "m  -  l'8(t0)~<'y"~  "8(t0).) 

EXAMPLE 3.5 

Let A (0) CA (1) C_ *  *  * be  the  sequence  of metric  spaces  defined  at  the  beginning  of  this  chapter. 
We  show  how  it  can  be  transformed  into  a  converging tower,  by  defining  a  sequence  of  arrows 

(tn),  (with  tn  =  <in,  j n > )   with induction on n: 

(0) i0(P0)=P0,  j0  trivial, 
( n + l )   in +1  : A(n+l)  ~  A(n+2)  ,  trivial  (in +l(p)  =  p ) ,  

jn+l  : A(n+2)  -'~ A(n+l)  , 

jn + i(Po)  =  Po  , 
j . + l ( < a , p > )   =  <a,  j . ( p ) >   for  < a , p >   E  A  (n+2) 

It is not difficult to see that  we have obtained  a  tower 

A(O).._~LOA(1)__)~ .  ..  , 
which is converging. 

262 

3.1  The direct  limit construction 
In this subsection we show  that  in  our  category C every converging tower has  an  initial cone.  The 
construction of such  an  initial cone for a  given tower  (the direct  limit  construction) generalizes the 
technique  of  forming  the  metric  completion  of  the  union  of  an  increasing  sequence  of  metric 
spaces. 
Before  we  treat  the  inverse limit construction,  we  first give the  definition of  a  cone  and  an  initial 
cone and  then  formulate a  criterion for the initiality of a  cone. 

DEFINITION  3.6 (Cone) 

Let  (Dn,tn) n  be  a  tower.  Let  D  be  a  complete  metric  space  and  ('r,)n  a  sequence  of  arrows.  We 
call (D,(Yn)n)  a  cone for (Dn,t,) n  whenever the following condition holds: 

V n e N  [Dn--c,Y"De~A yn  =  Yn+lOLn]. 

Dn  tn  ~ Dn +  1 

r n ~   *  f ' ~ n   +  1 

D 

DEFINITION  3.7 (Initial cone) 
A  cone  (D,(yn)n)  of  a  tower  (Dn,Ln)n  is called initial  whenever  for  every other  cone  (D',(V~)n)  of 
(Dn,~)n  there exists a  unique  arrow ,:D--->D'  in C such  that: 

Vn ~N  [,ov.  =  V'n]- 

D  . . . . . . .   D' 
LEMMA 3.8 (Initiality lemma) 
Let  (Dn,Ln)n  be a  converging tower with a  cone (D, (Yn)n). Let 7n =  <an,fin >.  We have: 

D  is  an  initial  cone  ce,  limn_.,ooanOfln =idD. 

PROOF 

263 
c= 
Suppose  limn_,~anOfln=idD.  Let  (D',  ('/n).),  with  3,'n=<a'n,  fl'.>,  be  another  cone  for 
(.On,  ~,,)~. We have to prove the existence of a unique  arrow D ~ ' D ' e E  such  that 

Vn~[N  [  t  o  ~'n  = Yn]. 
First  we construct  an  embedding  i :D~D' ,  then  a  projection j  :D'~D.  Next,  the  arrow  ~  will be 
defined  as  t-- <i ,  j > .  
For  every n  E  N we have 

an  o  fin ~O--*O'. 
We  show  that  (a'nofln)n  is  a Cauchy  sequence  in  D~ D'   and  then  use  the  completeness  of  this 

function  space  to define i as  the limit of that  sequence. 
Let m> n ~ O.   We have 

dD-~D,(a;,  o  B,.,  a'.  o  B.)  = 

dD~D,(a'  m  o tim,  am  o  intoointo  o  tim)  = 

SUpx~v{dv,(a~,  o BIn(X),  am  o  i,,m%m  o Bm(X))}  = 
[ because a;.  is isometric ] 

sup:, ~z) {dD~ (/3re(x),  i.m  o jnm  o  ~m(X)) }  = 
[ because tim  is surjective ] 

SUpx~D~ (dD~(x,  inmojnm(X))}  = 
dDm.--)Dm(idD m  , inmojnm))  =  ~(~nrn). 

. . . .   Dn  . . . . .   Dm 

Let c>0.  Because (D,,  ~n)n is  a converging tower there  is  an N ~ N   such  that 

Vm>n>~N  [ ~(Lnm)<C ]. 
Thus  (a'nofln)n  is a  Cauchy sequence.  We define 

i  =  " 
We prove that  i is isometric by showing: 

264 
Vx,  y  eD  [ do,  (i(x),  i(v))  =  do(x,  y)  ] 
Let x, y  ~D,  we have 

dD,(i(x),  i(y))  = 

dD,(limn~oca'nofln(X),  limn~anofln(y))  = 
limn+~dD,Ca'nofln(X ),  a'nofln(y))  = 

[ because  an  is isometric  ] 
firnn+~do.  (fln(x ),  (fin(Y))  = 

[ because an  is isometric ] 
l i m n ~   do(anofln(X ),  anofin(Y))  = 

d  D  (lirnn---~ oo Otn ofln (  X ),  ~lTln---~ oo Otno fln (y )  )  = 
do(x,  y). 
Thus  i is isometric. 

Similar  to  the  definition  of i we choose 

j  =  limn_.,ooanofl'n. 
We have that j  is NDI,  because,  for x, y  ~D': 

dD(j(x),  j(y))  = 
dD(limno~  anofl'n(x),  limn_~  %  ofl'n(y ))  = 
fim.~dD(anofl'n(x),  anofl'n(y))  = 

[ because an  is isometric ] 
fimn~oodD,(fln(X),  (fin(Y))  ~< 

[  because  fin  is ND I  ] 
fimn~oodD'(x,  y)  = 

dD,(x,  y ) .  
We  also show  : j   o i= i d>   Let x ~ D ,   then 

j  o i(x)  = 
j(fimn__,~a'n  o B.(x))  = 

f i mn ~ j   o  an  o  fin(X)  = 

265 
fi;.  ' limn~oolimm~ooam  o  o  an  o  fin(X)  = 
t limn__,ooa,  o  fi'n  o  an  o  fin(X)  = 

[  because  fi'n  o  a'n  =  ido.  ] 
limn---,ooan  o  fin(x)  =  x. 
Now  we  can  define 

t  = < i ,   j >   , 
of which we  have  so  far  proved  : D~*D'EC. 

Next  we  have  to  verify that  t  satisfies the  condition 

Vm ~N  [  ~ov,. :  v~,  ]. 
This  amounts to 

p Vm  ~N  [  i  o am  =  am  Afire  o  j  = tirol. 

Let  m  />  O. We  only prove  the  first part  of the  conjunction. We  have 

i  o  oL m  = (]il'nn._~.ooOt' n  o fin)  o  otm 

z  (]jaqln.._)oo(X'n+  m  o fin+m)  o  (X m 
=  limn,ooa'n  +m  o  fin  +m  o  am 
=  limn,ooOt'n+  m  o fin+m  o  an+m  o  im'  m+n 
=  limn.ooet'n+  m  o idD,+.  o  im,  m+n , 

, =  limn__,ooa  =  am  * 

Finally we  show  that  t  is  unique.  Suppose  D~"D',  with  ( =   < i ' ,   j  , is  another  arrow  in  E,  that 
satisfies 

i V m ~ N   [ d o y m  =  Ym ]. 

We  only show  that  i'  =  i, leaving the proof  o f f   =  j to  the  reader: 

i'  =  i'  o  idD 

=  i'  o  Funm~am  o  fire 
=  Fnnm_+~  i,  o  am  o  fire 
=  lim,._~d,,  o  fi,. 

i. 

266 
==> 
Suppose  now  that  (D,  (7n)n)  is  an  initial  cone  of  the  converging  tower  (D,,  tn)n.  We  have  to 
prove  that 

fimm--,~an  o  fin  = idD. 
By  an  argument  similar  to  the  proof  for  (an  o fl,)n  above,  we  have  that  (an  o fln)n is  a Cauchy 

sequence.  We define 

f  = h m n~ a n   *  fin  , 

D'  =  {  x  l x e D   i f ( x ) = x   ). 
We set out  to prove that  D'  =  D. 

The  set  D'  is  a  closed  subset  of  D,  so  it  again  constitutes  a  complete  metric  space.  For  each 
n  E  N we have 

an  :  Dn---+D' 
because  of the following argument.  Let dEDn,  then: 

f(an(d))  = 

o#,.(a.(d))  = 

~n'lm --+ e~ an  +  m  o  [~n  +  m  o (an(d))  = 
]imm~an  +m  Ot~n +  m  o an  +m  o  in ,  n +m(d)  = 
fimm..+~an  +  m  o in ,  n+m(d)  = 

Yma m __, ~  an (d)  = 
an(d). 
So f(an(d))  =  an(d),  and  thus  an(d)  ~  D'. 
Next  we define,  for each n e N :  

a'n  =  an  , 
/3'n =  flnlD'  (fin restricted  to D'), 

=  <a;,  # ; > .  

It  is  clear  that  (D',  (Y'n)n)  is  another  cone for (Dn,  tn)n.  Because (D,  (Yn)n)  is initial,  there  exists  a 
unique  arrow D--->'~D'~Cwith  q  = < i l ,   j l  >  such  that 

V n e N [ t l   ovn  =  V~ ]- 
The  set D'   can  also be embedded  into D:  let  D'~'2D,  with  t2 =  < i 2 , j 2 > ,   be  defined by 

267 
i  2  : idD,  , 
j2  =  il  * 
Then  D'--+'=DeC.  For  i2  is  isometric,  j2  is  ND I  and  the  following  argument  shows  that 
j2  o  i2  =  idD,"  Let  deD'.  Then 

j2  o i2(d)  :  j2(d) 

=  il(d) 

=  [because  d  ~ D',  we  have f (d)  =  d  ; 

in  other  words,  (limn--,ooan  o  fln)(d)  =  d  ] 
(i t  o (limn ~oo an  o  fln))(d) 
=  limn~oo(il  o  an  o  fln)(d) 
=  o B.Xd) 

=  fimn--,oo (a.  o  fln)(d)  =  d. 

a,. 
~ ,   i2.,  D 

Now  we  are  able  to  define D-+'D  by 

L  =  c,2  o  /,1 

=  <i 2   o il,  j l   o j 2 >  * 
It  is  easy  to  verify  that 

VneN[Loy,,=~,]. 
By  the  initiality of D  we have  that 

L=  <idD  ,  idD>  . 
Thus  i2  o i l   ---  idD.  This  implies D  = D'. 

Conclusion: 

lim  %  ofin  =  ido  . 

268 
The  initiality  lemma will  appear  to  be  very useful  in  the  sequel,  where  we  shall  construct  a  cone 
for an  arbitrary converging  tower  and  prove that  it  is initial. 

DEFINITION  3.9 (Direct  limit  construction) 
Let  (Dn,~n)n,  with  Ln=<in,jn>,  be  a  converging  tower.  The  direct  limit  of  (Dn,tn) n  is  a  cone 
(D,('Yn)n),  with "Yn =  <an,fin>,  that  is defined  as follows: 

D  =def ((Xn)n IV n >10 [x. eDn  Ajn(Xn +  1  )  = xn]} 
is  equipped  with  a  metric  d:D*D-~[O,1]  such  that  for  all  (xn).,(Vn).eD: 
d ((xn)n,(Yn)n)= sup{ dD. (xn,yn) }  ; 
an:Dn-.*O  is defined  by an(x)=(xk)k,  where 

jkn(x)  if  k  <n 
xk =  link(x)  if  k  = n if  k > n ;  

fln:D~Dn  is defined  by fln((xk)k)=x,. 

L E ~   3.10 
Let (D,d)  be as defined above.  We have: 

(D,d)  is  a  complete  metric  space. 
PROOF 
Let (xn)n,  (yn)n~D.  Let m>n>~O,  then 

dDn(Xn, Yn)  =  dDJjnm(Xm), jnmO'm)) 

~<  [ because jnm is NDI  ] 

%  (x,.,  y,.)  . 
Thus  (alp,  (Xn, Yn))n  is  an  increasing  sequence.  It  is  bounded  by  1,  thus  its  supremum  exists,  and 

is equal  to  the  limit.  It is not  difficult to  show that  d is  a metric. 
We  shall  prove  the  completeness  of  D  with  respect  to  this  metric.  Let  (~i)i ,  with 
~i =(xb,  xi,  x~ . . . .   ) be  a  Cauchy  sequence  in D.  Because for  all k  and  for all n  and  m: 

%(x~,  x~')  ~< sup~N(%(x~,  x~)) 

=  d (~",  ~" ) 
and  (~i)i  is a  Cauchy  sequence,  we have,  for  all k ~N,  that  (x}~)i is  a  Cauchy  sequence  in  Dk.  For 
every k  we set 

Xk  =  limi_.~x},. 

269 
We have jk(xk / 1)  = xk,  since 

jk(xk + l)  =  jk(limi~ooX~  +  l  ) 

=  fimi~oojk(x~  +1 ) 
=  limi~ooXik 
-~-Xk. 
Thus  (Xk)k is an  element of D. 

Because the convergence of the  sequences (xik)i  for k EN  was  uniform,  we have 

r e > 0   3 N~N   V k c N   V n > N   [ dn,(x~,  xk)<e  ]. 
This  fact implies that (x~)k  is the limit of (2i)i,  since, for c>0, 

d((Xk)k,  .~n)  z  SUpkEN (dDk (Xk,  X~)} 

~ c  

for n  bigger than  a  suitable N. 

R~LATION BEXWE~N THE DI~CT  LIMIT CONSTRUCTION AND ~mTRm COMPLETION 
We  can  look upon  the  construction  of the  direct  limit for  a  tower  (Dn,in),  as  a  generalization of 

taking the metric completion of the union  of a  sequence  of metric spaces.  We  define 

D;  =  {O}*D0 
n ~ + 1  = {n+l}*(D,,+l  \in(D.))  U  fin, 
and  take ln:Dn'->D'n as follows: 

lo(d)  =  < O , d >   for d~Do, 

f  ln(d')  if d =in(d')~Dn  +l  with d'~Dn ln+l(d) 
=  [ < n + l , d >   if  dq~in(Dn). 

Because  each  in  is  an  injection,  this  construction  works,  and  we  see  that  each  In  is  a  bijection. 
Therefore,  we  can  use  (ln),  in  the  obvious  way  to  define  a  metric  d'n  on  each  D'n  and  suitable 
i'n:D'n-->D'n +1  and j'n:D'n +1--->D',. 
Now  we  have  an  isomorphic  copy  of  our  original  tower,  which  satisfies the  condition  that  each 

i'n:D'n---->D'n+l is  a  subset  embedding.  From  now  on  we  leave  out  the  primes,  and  just  suppose 

that in :Dn'-*Dn + 1 satisfies this condition. 
If we define  Uas  the union  of (Dn)n,  and  d:U*  U--*[O,1] by 

d(x,y)  =  dD, (x,y), 
whenever x~Dn,yEDm  and  k>~m,n,  we have  that  (U,d)  is  a  metric  space.  Generally, it  will not 

270 
be  complete. 
lowing  sense. 

In  U we consider  only  such  sequences  (X,)n,  for which: 

and 

The  direct  limit  of (Dn,in)n  can  be  regarded  as  the  completion  of  (U,d)  in  the  fol- 

with 

Yn ~N[xn  =  jn(x. + 1)]-  (2) 
It  follows that  (X,)n  is  a  Cauchy  sequence.  For  m  >n  we have 

d(xm,Xn)  =  dD., (Xm,inm(Xn)) 

=  dDm(xm,inmOjnm(Xm)) 

dD  -~D~ (idD,~,inmojnm) 
=  8(trim). 
This number  is small for large n  and  m, because  (D.,in)n  is a  converging  tower. 

For  every (xn).  and  (Yn)n in  U, that  both  satisfy (1)  and  (2),  we have: 

if lJmn~dD.(Xn,Yn)  =  O,  then  (xn)n  =  (Yn)n, 
because of: 

dD.(xn,Yn)  = dD. (jn(Xn  +  I ),j.(Yn +  l )) 

~  dD.+,(X,,+l,y.+l) 
(expressing  that  (dDo(Xn,yn))n is  a  monotonic,  non-decreasing  sequence  with  limit  0,  so  all  its  ele- 
ments  are 0). 

Of  course  it  is not  the  case  that  every  Cauchy  sequence  satisfies  (1)  and  (2),  but  we  can  find  in 
each  class  of  Canchy  sequences  that  will  have  the  same  limit  a  representative  sequence,  which 

satisfies (1)  and  (2),  and  which  by  the  above is unique.  Let (xn).  be  an  arbitrary  Cauchy  sequence 
in  U.  As  a  representative  of  the  class  of  Cauchy  sequences  with  the  same limit  as  (xn)n,  we  take 

the  sequence  (Yn)n, defined by 

"  n fin  =  ~nm--)~Xm, 

jnXm  if Xm EDn x~n  =  k(Xm) if Xm ~D,,, 

and  k  > n   is the  least  number  with Xm ~Dk 

(Remember  that  k  > n ~ D k   D 1),).  It is not  very difficult  to show,  that  we have indeed: 

r t m , ~   dD.(x,.y,)  =  O. 

Vn ~l~l[x  n  EDn]  (1) 

271 
and  that  (Yn)n satisfies  (1)  and  (2).  Finally  we remark  that  the  direct  limit  D  of (Dn,*n)n consists 
of  exactly  those  sequences  in  U,  that  satisfy  (1)  and  (2),  and  thus  can  be  viewed  as  the  metric 
completion of (U,d). 

Remember  from  theorem  2.9  that  the  metric  completion  M  of  a  metric  space  M  is  the  smallest 
complete  metric  space,  into  which  M  can  be  isometrically  embedded,  in  the  following  sense:  M 

can be isometrically-  embedded  into every other complete metric  space with  that property. 
For  the direct limit of a  converging tower, we have a  similar  initiality  property: 

LEMI~IA 3.11 

The direct  limit of a  converging  tower  (as  defined  in  definition  3.9)  is an  initial cone for  that tower. 

PROOf 

Let  (Dn,  *n)n and  (D,  (Yn)n) be  as  defined  in  definition  3.9.  According  to  the  initiality  lemma 
(3.9),  it  suffices  to prove 

lilTln___~ocOl n  o fin  *  idD  , 
which is equivalent  to 

Vc>O 3NEN  V n > N   [  d(ct  n  o  fin, idI))<c  ] 
Let ~>0.  Because (Dn,  Ln)n is a  converging tower,  we can  choose N~r~  such  that 

V m > n ~ N   [  d(inm  o  jnrn,  idDm)<e 1" 
Let n >N.  Let (Xm)m ~D,  we define 

(ym)m  :  Otn  o  fin((Xm)m). 
For  every m> n  we have 

dD,.(ym,  Xm)  =  do.,(inm(Xn),  Xm) 

=  dD,,,(inm ojnm  (Xm),  Xm) 

d(inmojnm,  idD~) 
<~. 

Therefore 

d.((rm)m, (Xm)m) :  sup(dD,.(ym,  Xm)} < ~.  
Because (xn)n ED was arbitrary,  we have 

d(an  o  fln,idD )<c 

for all n >N . 

272 

3.2 A  fixed-point  theorem 
As  a  category-theoretic equivalent  of  a  contracting  function  on  a  metric  space,  we  have  the  fol- 

lowing notion of a  contractingfunctor  on 

DEFINITION  3.12 (Contracting functor) 
We  Call  a functor  F:C--~C  contracting  whenever  the  following  holds:  there  exists  an  c,  with 
0 ~ c < 1 ,   such that  for all D ~ * E Q C w e   have: 

8(F0 ~< eS(t). 

A  contracting  function  on  a  complete  metric  space  is  continuous,  so  it  preserves  Cauchy 

sequences  and  their  limits.  Similarly,  a  contracting functor  preserves  converging towers  and  their 
initial  cones: 

LEMMA 3.13 
Let  F:~-~C  be  a  contracting  functor,  let  (Dn,~n)n  be  a  converging tower  with  an  initial  cone 

(D, ('Yn)n). Then  (FDn,Ftn)n  is again  a converging  tower with (FD,(F'Yn)n) as  an  initial cone. 

The proof, which may use the initiality lemma,  is left  to the reader. 

THEOREM 3.14  (Fixed-point  theorem) 
Let  F  be  a  contracting functor  F:~-~C and  let  D o ~   FDo EE  Let  the  tower  (Dn,tn)n  be  defined  by 
Dn +1 = FDn  and *n +  l  = F*n for  all n >~0. This  tower is convergingv  so it has  a  direct  limit  (D, (2In)n). 

We have:  D_~FD. 

PROOF 
First  we  observe  that  (Dn,  tn)n can  be  proved  to  be  a  converging  tower  in  the  same  way  as  in 
example  3.4.  Because  F  preserves  converging towers  and  their  initial  cones,  (FDn,  F*n)n is  again 

a  converging tower with  (FD,  (F*n)n)  as an initial  cone. We have  that 

(FOrt,  F~n)n =  (Dn+l,  tn+l)n  , 
so (FDn,FLn)n  has  the  same  direct  limit  (up  to isometry)  as (D,,  tn)n.  This  implies  that  (D,  (~/,)n) 
and  (FD,  (F~n)n)  are both  initial  cones  of (Dn +1,  tn +l)n.  It  follows from  the  definition  of an  ini- 
tial  cone that  D  and  FD  are isometric. 

273 
Dn +  1  =  FDn 
y, + i../"  " ~ F y ,  

D  .. .... ..  FD 

REMARK 
It  is  always  possible  to  find  an  arrow  Do--o'oFDo~E:  Take  Do =(Po };  because  FDo  is  non- 
empty we can  choose an  arbitrary p  I  ~ FD o,  and  put  ~o =  <  i o,j o  > with  i  (p o) =P 1 and j  (x) = p  o, 
for x EFDo. 

4.  UNIQUENESS  OF  FIXED  POINTS 
We know that  a  contracting function f  : M ~ M ,   on a  complete metric  space M,  has  a  unique  fixed 
point.  We would  like  to prove a  similar property  for contracting functors on  C 
Let us consider  a  contracting functor F  on  the category of complete metric  spaces  C  By theorem 
3.14 we know  that F  has  a  fixed point,  that  is  there  exists D ~C and  an isometry *  such  that 

K D--> FD. 

Suppose we have  another  fixed point D'  with  an isometry X, such  that 

D'-+FD'. 
We  know  by  the  construction  of  D  that  it  is  the  direct  limit  of  the  converging  tower  (Dn,*n)n, 

where Do-coFDoECis  a given embedding  and  Dn+l =FDn,  Ln+l =FLn. 
If  we have  that  D'  is  also  (the  endpoint  of)  a  cone  for  that  tower,  the  inifiality  of D  implies  that 

there  exists  an  isometric embedding  D---cD'EC.  If we moreover can  demonstrate  that  this  t is  an 
isometry, then  we can conclude that  the functor  F  has  a  unique  fixed point,  which would be  quite 

satisfactory. 
A  proof for t being an isometry might look like: 

8(0 =  (?) 6(FO 

~< ca(0, 
implying (once the question-mark  has been eliminated)  that  6(0 = 0,  thus  L is  an isometry. 
It  turns  out  that  we  can  guarantee  that  the  second  fixed point  D'  is  also  a  cone  for  the  converg- 
ing  tower  (Dn,t#)  n in  one  of  two  ways.  Firstly,  we  can  restrict  our  functor  F  to  the  base-point 

274 
category of complete metric spaces  (to be defined in  a  moment).  Secondly, we can  reqtfire  F to 
be contracting in yet another sense, to be called  horn-contracting  below. 

We shall  proceed in both directions,  first exploring the unicity of fixed points of contracting func- 

tors  on  the  base-point  category,  then  focusing  on  functors  on  C that  are  contracting  and  hom- 
contracting. 

In both cases it appears to be possible  to prove the equality marked by (?) above. Unfortunately 
(for good  mathematicians,  who  are  said  to be  lazy),  this takes  some serious  effort, to  which  the 
proof of the following  theorem bears witness. 

First we  give the definition of the base-point category: 

DErINmON  4.1  (Base-point category of complete metric spaces) 
Let E* denote the base-point category of complete metric spaces, which has triples 

< ~ m >  
for its objects.  Here (M,d)  is  a complete metric space and  m  is an  arbitrary element of M,  called 

the base-point of M.  The arrows  in E* are as in  E  (see definition 3.1), but  for the constraint that 
they  map  base-points  onto  base-points,  i.e. for  < M , d , m> - - - ~ < i ' j > < M ' , d ' , m ' > ~   we  also 
require that i(m)=m',  and j( m')= m. 

REMARK 
The  definitions  of  cone,  functor  etcetera can  be  adapted  straightforwardly. 

3.8, 3.11, 3.13 and theorem 3.14  still hold. 

Moreover,  lemmas 

TI-nEOREM 4.2 (Uniqueness of fixed points) 
Let F  be a  contracting functor  F: ~  ~ C .   Then  F has a  unique fixed point  up  to  isometry,  that  is  to 
say:  there exists a  D  ~  such  that 

(1)  FD ~ D ,   and 

(2)  V D ' E c   [ F D ' ~ D '   ~  D_~D']. 

PROOF 
We define  a converging tower (O.,  L.). by 

Do  =  <{Po},  d{po), p o >   , 

D. +  I  = FD.  for all n~>0, 

t  o  : D o . D 1 ,   trivial, 
tn+l  =  Ft.  for alln~>0. 
Let (D,  (Yn)n) be the direct limit of this tower.  As in  theorem 3.14, we have that both (D, (7.).) 

275 
and  (FD,  (FTn)n)  are  initial  cones  of  (Dn,  Ln)n.  The  initiality  of  (Dn,  ('In)n)  implies  the  existence 
of a  unique  arrow D~K FD,  such  that  for n/>0, 

Dn +1 

D  ~.  FD 1c 

FIGURE  1 
Because  also (FD,  (F'yn))n  is initial,  we know  that  x must  be isometric. 

h Now  let D'E6*  be  another  fixed point  of F,  say D '~FD '  for an  isometry ~.  We  define  (~'n)n  such 

that  (D',  ('/n)n) is a  cone for (Dn,  tn)n  : 

~'0  :  DO -oD'  is the unique  arrow,  which  maps base-point  to base-point, 
7n+l  =  ?-1  o FZ/n. 
We  have  that  (D',  (~.)n)  is  indeed  a  cone  for  (Dn,  ~n). because  of  the  commutativity  of the  fol- 
lowing diagram,  for all nEN: 

Dn  tn  ~FDn  =  Dn  +  1 

D'  ~  FD' 
We prove it by induction  on  n  : 

(0)  Because  the  arrows  in  6"  map  base-points  onto  base-points,  we  have  that 

(h-loF~0o~o)t(p0)  and  ('~0)l(P0)  are  both  equal  to  the  base-point  of  D',  and  for  any 
x ~D',  that  (h-1 oF~ooL0)2(x)=  (~0h(x)=p0" 

Note  that  this  is the only  place,  where we make use of the base-point  structure  of C. 

(n  +  1) Suppose  that  we have ~ -  ] oF~notn  ='yn  * Then 

-  1  o F'~n +  1  o ~n +  1 =  ~k -  1  o F('Yn +  1 o  ~n) 

=  h-1  o F(?~-1  o F~'n  o  *n) 

276 
=  ~ -  1  o FZ/n 

~n+l  - 
Again by the initiality of (D,  ('f.)n) there is a unique  arrow D ~ ' D '   such  that,  for all n ~ N   : 

D~ 

D  D' 

t 

FIGURE  2 
AS indicated  above, we now set  out  to prove  that  ~ is  an  isometry.  When  we apply  F  to  figure 2, 
we get 

FDn 

FD  ~,  FD' Ft 
which leads  to: 

Dn +1 

FD  *  D' 

FD' 
(because  ~n+l=)k -1  oF~n,  so  F'fn=)~o'Yn+l),  or,  replacing  )~  by  )~-1  and  reversing  the 

corresponding arrow: 

277 
D . + ,   F'Y5  FD  FL  X -1 -  FD'  *  D' 

Substituting  x  o  7n +l  for F'~,  (figure  1) yields: 

--1 

or:  (h-1  o F t o   x)  o  7n +1 ='~n +1  (thiS  equality  also holds  for "Y0 and  "~0). 
2, t is the only arrow with:  Vn~N  [t  o "/n =  "~n]. Thus 

L  = ~--1  oF t ol ~,  

or,  in  other words: 

But  according to  figure 

K D  ,  >  FD  
L  I  *  ~F, 
D'  ::.,  FD' 

This commutativity,  together with  the fact  that  K and X are isometries  implies: 

8(0  =  8(Ft). 
(For  the definition  of 8  see definition  3.2.) 
Now the proof can be concluded,  following the train  of thought indicated  above: 

8(0  =  ~(r0 

<  c" 8(0, 
for some 0~<e< 1, since F  is a  contraction.  This implies 

8(0  =  o ,  
so (if t  = <i,  j > )  

i  o j   =  idD'. 
At last  we can draw  the desired  conclusion: 

L D ~ D ' . 

278 

Now  we  return  again  to  our  original  category  C of  complete  metric  spaces  and  provide  for,  as 
promised  above,  another  criterion  for functors  on  C, that,  together with  contractivity, wilt appear 

to be sufficient to ensure uniqueness  of their fixed points. 

DEFINITION 4.3 (Hom-contractivity) 
We call  a  functor F  :6--~Chom-contracting, whenever 

VP ~C 'cQ ~C 3c< 1  [Fp,  Q :(P~eQ)~(FP--->~FQ)] 
where 

p ~ C o   =  {t I L:P-.Q It is  an  arrow in  C},  Fp, Q(0 =  F~ 

REMARKS 
Because  arrows  in  C are  pairs,  we  have  on  p ~ e Q   the  standard  metric  for  the  Cartesian  product. 
So let  q,  t2:P~Q,  tl  = <i l   ,jl >  and  t2 =  < i 2 , j 2 > .   Then  their distance is defined by 

d(61 ,t2)  =  max{dp~Q(il,iz),dQ~t,(/t  ,j2)}. 

It  is  not  the  case  that  every hom-contracting  functor  is  also  contracting,  which  follows from  the 
following example. 
Let A  --- {0}  and  B ={1,2}  be discrete metric  spaces.  We  define a  functor F:8--~C as  follows. For 
every complete metric space P ~C let 

A  if P  contains  exactly  1 dement FP =  othenvise. 

For  t : P ~ Q   we define FL: { 

1~  if FP =FQ  =A 
F6  =  if FP = FQ =  B 

if FP =  A and  FQ = B, 

where  ~o=<io,jo >,  with  i0:0~1,  jo:l,2~0.  Note  that  there  is  no  L:P--,Q  if  F P = B   and 
FQ =A.  It  is  not  difficult  to  verify that  F  is  a  functor,  which  is  horn-contracting.  The  following 

argument  shows  that  it  is  not  contracting.  Let  C =(3,4}  with  d(3,4)= 1 ,   and  let  x:A--->C, with 

x = < k , l >   be  defined  by  k:0~3  and  l:3,4~0.  Then  we  have  8(K)=2,  but  FK:FA--->FC  is 
lo:A--->B (as defined above), for which ~(~o)= 1. 

279 
THEOREM 4.4 
Let F  be  a  contracting and horn-contracting functor  F :6-~,E 
isometry,  that  is  to  say:  there exists a  D eC such that 

(1)  FD ~ D   and 
(2)  VD'~6 c [FD' ~ D '   ~  D ~D']. 

Then  F has a  unique fixed point  up to 

PROOF 
The proof of this  theorem differs  from that  of theorem 4.2  only in  the  definition of i0.  There we 

could  take  for  "Yo the  trivial  embedding  of  Do  into  D',  mapping P0  onto  the  base-point  of D'. 
Here we have no  base-points.  But we can use  the fact that  F  is hom-contracting by taking for '~0 
the  unique  fixed  point  of  the  function  G:(Do~eD')-.,(Do~eD'),  that  we  define  by: 

G(~) =  X-loF~oL0, for Z/~(Do~cD' ).  (Note  that  G is contracting because F  is hom-contracting.) 
It follows  that i0,  thus  defined,  satisfies  X-loF'~0oL0  = i0,  which serves our purposes. 

5. A  CLASS OF DOMAIN EQUATIONS WITH UNIQUE SOLUTIONS 
In  this  section we present  a  class of domain  equations  over the  category C that  have unique  solu- 
tions.  For  this  purpose we first  define a  set Func of functors  on  C and  formulate a  condition  for 
its  elements  that  implies  contractivity and  hom-contractivity.  It  then  follows  that  every domain 
equation over C induced  by a  functor that  satisfies  this condition,  has a  unique  solution. 

DFFINmON 5.1  (Functors) 
The set Func, with typical dements F, is defined by: 

F::----FM[  id'[  F1-")F2I  FI-~IF2[  F I ~ F z [   FI*F2[  ~d(F)l  FIoF2 
where M  is an arbitrary complete metric space and  c>0.  Every F~Func  is  to be interpreted  as a 
functor 

F:&-~C 
as follows.  Let (P, de),  (Q, dg)EC be complete metric spaces.  Let P ~ Q e C ,   with  t= <i,j >.  For 
the definition of each FeFunc  we have to specify: 

(1)  the image of P  under F:  FP, 
(2)  the image of d  under F:  Fd, 
(3)  the image of t under F:  FL(= <Fi, Fj >). 

280 
(a)  F  =FM: 

(1)  FP  =  M, 
(2)  Fd =  dM (the metric of M), 
(3)  Ft  =  <idM,idM>. 
We  sometimes  use just  a  set A  instead  of  a  metric  space  M.  In  this  case  we  provide A  with  the 
discrete metric (definition 2.1). 
(b) F  = id': 

(1)  FP  =  P, 
(2)  Fd =  ed  (Fd(x,y)=ed(x,y),  for x,  yEP) , 
(3)  FL  = t. 
Next we  define functors that  are composed.  Let F1,  F2 EFunc,  such  that 

(1)  F 1 P = P I ,   F 2 P = P z ,   F I Q = Q 1 ,   F 2 Q = Q 2 ,  
(2)  F l d   =  dl,  F2d  =  d2, 
(3)  F1 t=   < i l , j l > ,   F2t  <i2,j2 >. 
(c) F=F1--+F2: 

(1)  F P = P 1 - ' ) P 2 ,  
(2)  Fd =  dr  (see definition 2.6(a)), 

(3)  Ft =  <Xf.(i2ofojl),  Xg.(j2ogoil)>. 
(F = F1 ~  1 F2  is  defined similarly.) 
(d) F  = F  l UF2: 

(1)  FP  = P1 UP2, 
(2)  Fd =  du  (see definition 2.6(b)), 

(3)  Ft  =  <;~p.  i f p ~ ( 0 } * P 1   then  i1((,P)2) else i2((P)2) fi, 

Xq. if q  E (0) *  Q  1 then j  l ((q)2) else jE((q)2)  fi>. 
(e)  F=F  1 *F2: 

(1)  FP  =  PI  XP2, 
(2)  Fd =dp  (see definition 2.6(c)), 
(3)  Ft =  <)~<pl,p2 > '< il( p O,  i2(P2)>,)~<ql,q2 > '< jl( q l) ,j2 ( q 2 ) >  >. 

281 
(f) F =Pct(F1): 

(l) 

(2) 
(3) 

FP =  Pct(P1), 
Fd =  dH (see definition 2.6(d)), 
V, =  < h X . ( i l( x) l x  ~X),)~Y. closure  {j I(Y)lY  ~ Y)>" 
(g)  F =F1 oF2:  the usual composition of functors on E. 

REMARK 
The  set  Func  contains  dements  of various  form. We  give  an  example.  Let F1,  F2 EFunc.  The 

following  functor is an dement of the set Func,  as can be deduced from its  definition. 

1 
FI ~ A  F2  =  def id A  o(F1  ~  1 (id .4 oF2)),  for  A  > 0. 

LEMMA 5.2 
For all F~Func  we have:  F is a  well defined functor  on 

PROOF 
We  treat  only one case by  way  of example,  being  (lazy and)  confident that  it  shows  the  reader 

how to proceed in the other cases. 

Let F  = F I ~ I F 2 ,   and  suppose  F1  and  F2  are well  defined. Let (P, dp),(Q, dQ)  and  P - - # Q E ~  
with,  =  < i, j> ;  furthermore, let for k  =  1,2: 

Fke  =  ek '  FkO  ---- Ok, 

Fkd P  = dp,,  Fkdo_ =  dQ,, 
Fkt  =  <ik,*  >. 
The functor F  is defined by 

(1) FP  =  P1--->Ip2, 

(2) Fdp  =  dF, 

(3) Fi  =  <Fi, F j >   =  <~f'(i2ofojl),~g'(]2ogoil)>. 

P  PI-*Ip2 

i  j  ~  hf'(izofojl)=Fi  Fj=*g'(j2ogoil) 

Q  Q I ~ I Q 2  
It follows from proposition 2.7, that ( P ] +  1P2,dr)  is  a complete metric space,  which leaves  us to 
prove: 

282 
(a) Fi  is isometric, 
(b) Fj  is NDI  and 

(c) FjoFi  =  idFp. 
Part  (a):  Let fl ,f2  ~P1--)lP2.  We want  to show 

dFp(f l,f2)  =  dfo(FiOel),Fiff 2)). 
We have 

SUpqeQ~ (doa(i2oflojl(q),  i2of2ojl(q))}  =  [because i2  is isometric] 

SUpq *  Q  l (des (fl ojl(q),f2 oj 1 (q))} 
=  [because j l   is surjective] 

supple , {de: (f ~(p), f2(P))} 
=  de,~PE(fl,f2). 
Part  (b):  Letgl,g2~Ql---)lQ2  . We want  to show: 

dvp(rj(gl),Fj(g2))  ~  drQ(gl,g2). 
Let p  EP1;  we have: 

de2 (Fj(gl)(p),Fj(g2)(p))  =  de2 (j2ogl oil(p),j2 og2oi 1Q g)) 

~2  is NDI] 
dQ2 (g loi l(fl),g2oi  l (p)) 
dm(g~,g2). 
Part (c):  Letf~Pl--)lP2.  We have 

FjoFi(f)  =  j2oi2ofojloil 

= L 

DEFINITION 5.3  (Contraction  coefficient) 
For  each  F~Func  we  define  its  so-called  contraction  coefficient  (notation: 
c(F)~[0, ~]),  using induction  on  the complexity of the  structure of F. 

(a)  If F=FM,  then c(F)=O. 
(b)  If F  =id ~,  then  c ( F ) = c  

c(F),  with 

283 
Let F1,  F2 ~ Func, with coefficients c (F1)  and  c (F2).  Then  we set: 
(c)  If F =F I~ F2 ,   then  c(F)=max(oo.c(F1),  c(Fz)}. 
(d)  If F  =F1---~IF2,  then  c(F)=c(F1)+c(F2). 
(If we would restrict  ourselves to ultra-metric  spaces,  we could write max{c(F1),c (F2)}  here.) 
(e)  If F=F1 UF2,  then  c(F)=max(c(Fl),e(F2)}. 
(f)  If r  = r l   *F2,  then e(F)=max{c(rl),e(F2)}. 

(g)  If F = P d ( F I ) ,   then  c(F)=c(F~). 
(h)  If F  =FloE2,  then  e(F)=e(F1)'c(F2). 
(With  oo we compute as follows:  oo-0  = 0.o0  =  0,  m-e =  e-oo =  oo, if e >0.) 

THEOREM 5.4 
For every funetor  F  ~Func we have 

(1) VP--->'Q EE [8(FO<~c(F).8(O], 

(2) VP,  a  e  C [Fv, Q :(P--->eQ)-->c(~(FP-->eFQ)]. 

PROOF 
Let P, Q eG  ~,d ~P ~ Q ,   with  ~=  <i,j>,d  =  <i',j'>. 
Case (a)  F  = FM: 
Part  (al) 

part  (a2) 

8(F  O  = @Q..+FQ(FioFj, idM) 

=  am__,Fo(iauo~@,~@) 
=  0  = c(F).8(O. 

dee_:m(FL,  F O  :  dM_:M(id, id)  =  0  = c(F).dp_:Q(,,O. 
Case (b)  F  = idC: 
part (bb 

8(FO =  dFQ..+rQ(FioFj, i@Q) 

=  SUpq~Q{dFQ(ioj(q),q)} 
=  SUpqeQfedQ(ioj(q),q)} 
=  eS(O 

284 
Part  (b2) 

=  c(F)-8(0. 

dFe__,eFQ(Ft, t')  =  edl,._,eQ(,,t') 

=  c(F)'de+o(*,c). 
Now  let  F1,F2e  Func  and  suppose  the  theorem  holds  for  these  functors,  For  k  = 1,2  we  use 

the following notation: 

Fkt  =  tk,  Fkt'  =  t'k,  FkP  =  Pk , 
Fki  =  ik,  Fki'  =  i'k, 
r~j  =  j k ,   r~j'  =  j'k, 

Fk Q  =  Qk  , 

We only treat  the cases  that  F  = F I ~ I F 2   and  F  = F1 *F2. 
Case (d) F  = F I ~ I F 2 :  

Part  (d 1) 

~(F 0  =  dFQ~FQ(FioFj, idFQ) 

=  supg~FQ(drQ(izoj2ogoiloji,g)). 
L e t g e F Q   =QI- o1 Q2  .  For  ql eQ1  we have 

dg.2(izoj2ogoilojl(ql),g(ql))  <~ dQ2(i2oj2ogoilojl(ql),goilojl(ql))+ 

dQ2(goilojl(ql),g(ql)). 
(This  " + "   could be  replaced by "max"  in  the case of ultra-metric  spaces.) 

For  the first term  we have 

do2(izojzogoilojl(ql),goilojl(ql))  <~ SUpqEQ2 (dQ2(i2ojz(q2),q2)) 

=  3(F20. 
For  the second 

do2 (goil ojl (ql),g(q I))  ~< [because g  e  Q  1  _+l Q2] 

do~ (ilojl(ql),ql) 
=  6(F,O. 
We  see 

3(F 0  ~< 3(F10+3(F20 

[induction] 
(c(FI)+C(F2))'3(t) 

285 
=  c(F)'~(O. 
Part  (d2) 

dr,,_,evQ(Ft, Ft')  =  max( dFP +FQ(Fi, Fi'),dFQ~Fp(Fj, Fj') }. 
For the first component, we have 

dFp_~FQ(Fi, Fi')  =  supfeFP, qEQ, {do2(Fi(f)(q),Fi'(f)(q))  }. 
Let f eF P ,  q EQ 1. Then 

dQ2 (Fi(f)(q),Fi'(f)(q)  )  =  do2 (i2ofoj l(q),i'zofoj'l  (q)) 

<~ do2(i2ofoj](q),izofojl(q))  +  dQ2(izofoj](q),i'zofoj'l  (q)) 
<~ d&__,O~ (i2,{2)  +  dQ= (i'2 ofojl(q),{2  of o j]  (q)) 

[because i~  is isometric , f e  P  1 --+ 1  p 2] 
dp2..~g~(i2,i'2)  + dQ~p,(jl,j]  ). 
(Again,  in  the case of ultra-metric spaces,  we would have "max"  here.) 

Likewise, we have for the  second component 

dFQ~FQ(Fj, Fj')  <~ dpi~Q, (i l,i] )  + dQ~._+p2 (j2,j2 ). 
Together this implies 

dFp~eFQ.(Ft,  FL') <~ dp,~eQ1 (FI L, F1 g)  +  dpw._,eQ2 (Fzt, F2t') 

<~ [induction] 

(c (/71 )  +  C (F2))'dp_~eg(t , {) 
=  c(F).de_~eO.(~,e  ). 
Case (f) F  = Fi  XF2: Part (fl) 

8(Ft)  =  dFQ_._>FQ. (FioFj, idFQ ) 

=  sup~vo{dvo(riorj@),'q)} 
=  sup<q,,q2 > ~FQ {dFo(<i 1 ojl(ql ), i2oj2(q2)>, < q  1, q2 >)} 
=  sup<ql,q=> ~F0 {max{dQ1 (il ojl(ql),ql),dg.2  (i2oj2(q2),qz)} 
=  max(supq~  s 01 (dg~ (il oj 1 (q l),ql)},SUpq2 ~Q2 {dg: (i2oj2(qz),q2))  } 
=  max{8(F 10,8(F20) 

286 
Part  (f2) 

~< [induction] 

(c(F1) + c(F2))'8(0 
=  c(F).,~(O. 

dFp._:m(ri,vi')  =  sup-:~Fj,( dm( ri@),Vi'~))  } 

=  sup<pl,p2>~F  P (dFQ(<il(Pl),i2( p 1)>, <i'l (P2),i2 (p2)>)) 
=  max(supp i ~I',  (do,, (il (p 1),i] (p 1))), supp2 EP2 (dQ2 (i2(P2),i2 (P2)))) 

=  max(de~ ~Q~ (il,i]), dP2~Q~ (i2,i'2)), 
Similarly, we have 

dFQ--,Fe(Fj, Fj')  =  max( dQ,__,e~ (h,j]  ),dQ2-~l'2 Q'z,j'2 )}. 
Thus  we obtain 

dFp_,eFQ(FL, Fd )  =  max(dp~__,eQ~(Flt,Fld),dQ2~ep2(F2L, Fzd)) 

~< [induction] 

max(c(F1),c(F2))-@__,ee(t,d) 
=  c(F)'de__:Q(*,:)" 

COROLLARY 5.5 
For every F~Func,  with 0~<c(F)<l,  we have 

(1)  F  is  a  contracting functor,  and 
(2)  F  is  a  horn-contracting functor. 

COROLLARY 5.6 
Every reflexive  domain  equation  over  C of the form 

P _~ FP, 
for  which  F ~Func and c (F)<  1, has a  unique  solution  (up to isomorphism). 

287 
6.  CONCLUSIONS 

We  have presented  a  technique  for constructing  fixed points  of certain  functors  over a  category  of 

complete  metric  spaces.  This  enables  us  to  solve  the  reflexive  domain  equations  associated  with 
these  functors.  The  technique  is  an  adaptation  of  the  limit  construction  that  was  first  used  in  the 
context  of  certain  partial  orders  (continuous  lattices,  complete  lattices,  complete  partial  orders). 
Nevertheless,  we  have  encountered  some  nice  metric  phenomena  in  our  metric  framework.  To 
begin  with,  the  concept  of  a  converging  tower  is  an  analogue  to  the  concept  of  a  Cauchy 

sequence  in  a  complete  metric  space,  and  indeed,  both  have  a  limit.  Furthermore,  a  contracting 
functor  on  our  category  of metric  spaces  is  a  concept  analogous  to  that  of  a  contracting  function 
on  a  complete  metric  space,  and  both  are  guaranteed  to  have  a  fixed  point.  If we  strengthen  our 
requirements  on  the  functor  to  include  hom-contractivity  (also  analogous  to  contractivity  of  a 
function),  we even know  that  the  fixed point  is unique  (as is the  case with  a  contracting  function). 
Therefore  the  whole  situation  looks  very much  like  Banach's  theorem  in  a  category-theoretic  dis- 
guise. 

A  few  questions  remain  open,  however.  We  are  still  looking  for  a  functor  that  is  contracting  but 
not  horn-contracting,  or  even  better  for  a  functor  that  is  contracting  but  has  several  non- 
isomorphic  fixed  points.  Another  point  is  what  can  be  said  about  functors  where  the  argument 

occurs  at  the  left hand  side of a  general  function  space  construction  (all continuous  functions,  not 
just  the  NDI  ones). 

In  any  case,  the  class  of  functors  (and,  thus,  domain  equations)  that  we  can  handle  is  large 
enough,  so  that  our  technique  is  a  useful  tool in  the  construction  of  domains  for  the  denotational 

semantics  of concurrent  programming languages. 

RELATED WORK 
The  subject  of  solving  reflexive  domain  equations  is  not  new.  Various  solutions  of  the  kind  of 

equations  mentioned  above  already  exist.  We  shall  not  try  to  give  an  extensive  and  complete 
bibliography  on  this  matter  and  confine  ourselves  to  the  following remarks. 
We  mention  the  work  of  Scott  ([Sc]),  who  uses  inverse  limit  constructions  for  solving  domain 

equations.  Our  method  of  generalizing  metric  notions  in  terms  of  category-theoretical  notions 
shows  a  clear  analogy  to  the  work  D.  Lehmann  ([Le]) did  in  the  context  of partial  orderings.  Our 
work  is  also  related  to  the  general  method  of  solving  reflexive  equations  of  Smyth  and  Plotkin 

([SP]).  In  the  terminology  used  there,  we  show  that  our  category  G is  o~-complete in  the  limited 

sense,  that  all  converging  towers  have  direct  limits.  Further  we  show  that  a  certain  type  of  ~o- 
continuous  functors  (called  contracting)  has  a  fixed  point.  (Without  having  investigated  the  pre- 
cise  relationship,  we  also  mention  here  the  anology  between  their  notion  of  an  O-category,  and 
the  fact  that in  our  category C the  horn-sets  are  complete metric  spaces.) 

288 
7.  REFERENCES 
[ABKR] 

[BZ] 
[Du] [En] 
[Ha] 

[Lel 

[MY] 

[Sc] 
[SP] 

P. AMERICA, J. DE BAKKER, J.  KOK, J. R ~ E N ,   A  DenotationaI  Semantics of a  Parallel 

Object-Oriented  Language, Technical  Report (CS-R8626),  Centre  for Mathematics  and 
Computer  Science, Amsterdam,  1986. 
J.W.  DE  BAKKER, J.I.  ZUCI~R,  Processes and  the  Denotational  Semantics of  Con- 
currency, Information  and  Control  54 (1982), pp.  70-120. 
J. DUGUNDJI, Topology, Allen and  Bacon,  Rockleigh,  N.J.,  1966. 

R. ENGELKXNG, General Topology, Polish Scientific  Publishers,  1977. 
H.  HAHN, Reelle  Funktionen, Chelsea,  New York,  1948. 
D.  L E r a ~ S ,   Categories for Mathematical  Semantics, in:  Proc.  17th IEEE Symposium 
on Foundations  of Computer Science,  1976. 

S.  MAC  LANE, Categories  for  the  Working  Mathematician, Graduate  Texts  in 

Mathematics  5, Springer-Verlag,  1971. 
D.S.  SCOTt, Continuous  Lattices, in:  Toposes, Algebraic  Geometry  and  Logic,  Lecture 
Notes in Mathematics  274, Springer-Verlag,  1972, pp.  97-136. 

M.B.  SMYrH, G.D.  PLOTKIN, The  Category-Theoretic  Solution of  Recursive  Domain 
Equations, SIAM J. Comput, Vol.  11, No. 4,  1982,  pp.761-783. 